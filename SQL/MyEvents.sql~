

DROP TABLE UTILISATEUR;
DROP TABLE CONTRIBUTEUR;
DROP TABLE ADMINISTRATEUR;
DROP TABLE VISITEUR;
DROP TABLE COMPTES;
DROP TABLE THEMES;
DROP TABLE EVENEMENTS;
DROP TABLE INSCRIT;
-- **************************************   UTILISATEUR  

CREATE TABLE   UTILISATEUR  
(
   U_ID            numeric NOT NULL ,
   NOM             varchar(45) NOT NULL ,
   PRENOM          varchar(45) NOT NULL ,
   ADRESSE         varchar(200) NOT NULL ,
   EMAIL           varchar(150) NOT NULL ,
   NUMERO_DE_TEL   varchar(45) NOT NULL ,
   ID_COMPTE       varchar(45) NOT NULL ,

CONSTRAINT USR_PK PRIMARY KEY ( U_ID ),
CONSTRAINT   ACCOUNT_FK   FOREIGN KEY(  ID_COMPTE  ) REFERENCES   COMPTES   (  ID_COMPTE  )
);


-- **************************************  CONTRIBUTEUR 

CREATE TABLE  CONTRIBUTEUR 
(
  CONTRIBUTEUR_ID         numeric NOT NULL ,
  E_ID_AJOUTÉ  varchar(45) NOT NULL ,

CONSTRAINT  CONTRIBID_FK FOREIGN KEY( CONTRIBUTEUR_ID ) REFERENCES  UTILISATEUR  ( U_ID ),

CONSTRAINT  EVENT_CONTRIB_FK  FOREIGN KEY ( E_ID_AJOUTÉ ) REFERENCES  EVENEMENTS  ( E_ID )
);



-- **************************************   VISITEUR  

CREATE TABLE   VISITEUR  
(
   VISTEUR_ID   numeric NOT NULL ,
   EVENT_ID   varchar(45) NOT NULL ,


CONSTRAINT    VISIT_ID_FK FOREIGN KEY(  VISITEUR_ID  ) REFERENCES   UTILISATEUR   (  U_ID  ),

CONSTRAINT   VISIT_EV_FK  FOREIGN KEY (  EVENT_ID  ) REFERENCES   EVENEMENTS   (  E_ID  )
);



-- **************************************  ADMIN 

CREATE TABLE  ADMINISTRATEUR 
(
  ADMIN_ID  numeric NOT NULL ,


CONSTRAINT  ADMIN_FK FOREIGN KEY ( ADMIN_ID ) REFERENCES  UTILISATEUR  ( U_ID )
);


-- **************************************  COMPTES 

CREATE TABLE  COMPTES 
(
  ID_COMPTE   varchar(45) NOT NULL ,
  PASSWORD_1  varchar(45) NOT NULL ,
  USER_ACCOUNT_ID varchar(45) NOT NULL,
CONSTRAINT COMPTES_PK PRIMARY KEY ( ID_COMPTE ),
CONSTRAINT  COMPTES_USR_FK FOREIGN KEY ( USER_ACCOUNT_ID ) REFERENCES  UTILISATEUR  ( U_ID )
);



CREATE TABLE  INSCRIT 
(
  ID_USER   varchar(45) NOT NULL ,
  ID_EVENEMENT varchar(45) NOT NULL ,

CONSTRAINT INSCRIT_PK PRIMARY KEY ( ID_USER,ID_EVENEMENT ),

);








-- **************************************   THEME  

CREATE TABLE   THEME  
(
   ID_THEME      varchar(45) NOT NULL ,
   NOM           varchar(45) NOT NULL ,
   DESCRIPTION   varchar(120) NOT NULL ,

CONSTRAINT THEME_PK PRIMARY KEY ( ID_THEME ),
);



-- **************************************  EVENEMENTS 

CREATE TABLE EVENEMENTS
(
 E_ID             varchar(45) NOT NULL ,
 TITRE_EVENEMENTS  varchar(45) NOT NULL ,
  ADRESSE           varchar(45) NOT NULL ,
  DATE_DEBUT        date NOT NULL ,
  DATE_FIN          date NOT NULL ,
  ID_THEME          varchar(45) NOT NULL ,


CONSTRAINT EVENT_PK PRIMARY KEY ( E_ID ),

CONSTRAINT  THEME_EVT_FK  FOREIGN KEY ( ID_THEME ) REFERENCES  THEME( ID_THEME )
);












